window.__require=function e(n,t,a){function r(o,c){if(!t[o]){if(!n[o]){var s=o.split("/");if(s=s[s.length-1],!n[s]){var u="function"==typeof __require&&__require;if(!c&&u)return u(s,!0);if(i)return i(s,!0);throw new Error("Cannot find module '"+o+"'")}}var _=t[o]={exports:{}};n[o][0].call(_.exports,function(e){return r(n[o][1][e]||e)},_,_.exports,e,n,t,a)}return t[o].exports}for(var i="function"==typeof __require&&__require,o=0;o<a.length;o++)r(a[o]);return r}({rank:[function(e,n,t){"use strict";cc._RF.push(n,"79268ycB6xOCIQg8Zn8m+gy","rank"),function(){cc.Class({extends:cc.Component,properties:{display:cc.Node,m_rank_1:cc.Node,m_rank_2:cc.Node,m_rank_3:cc.Node,m_rank_4:cc.Node,m_rank_5:cc.Node,m_rank_6:cc.Node,m_rank_7:cc.Node},start:function(){var e,n,t;for(wx.onMessage(function(e){return function(n){switch(n.message){case"Show":return e._show();case"Hide":return e._hide();case"Refresh":return e._initFriendsInfo();case"gameType":return e._gameType=n.gameType,e._initFriendsInfo(),console.log("onMessage gameType:"+e._gameType)}}}(this)),t=[],n=e=1;e<=7;n=++e)t.push(this._updateInfo(this["m_rank_"+n],null,"--","--","--"));return t},_createImage:function(e,n){var t;return(t=wx.createImage()).onload=function(){var n;return(n=new cc.Texture2D).initWithElement(t),n.handleLoadedTexture(),e.spriteFrame=new cc.SpriteFrame(n),e.node.width=50,e.node.height=50},t.src=n},_updateInfo:function(e,n,t,a,r){var i,o;return o=(i=e.getChildByName("icon")).getChildByName("icon").getComponent(cc.Sprite),this._createImage(o,n),i.getChildByName("rank_1").getComponent(cc.Label).string=t,i.getChildByName("rank_2").getComponent(cc.Label).string=a,i.getChildByName("rank_3").getComponent(cc.Label).string=r},_initFriendsInfo:function(){var e;return this._dataIndex=1,"numberMaze"===this._gameType?e=["fastTime","useStep","passCount"]:"memory"===this._gameType?e=["score"]:"physicsBall"===this._gameType&&(e=["physicsBallScore"]),wx.getFriendCloudStorage({keyList:e,success:function(e){return function(n){var t,a,r,i,o,c,s,u,_,d,l,m,f,g;for(console.log("friends data :"+JSON.stringify(n.data)),n.data=n.data.filter(function(e){return console.log(e.nickname,e.KVDataList.length),e.KVDataList.length>0}),n.data.sort(function(e,n){return e.KVDataList[0].value-n.KVDataList[0].value}),a=0,s=(d=n.data).length;a<s&&(o=d[a],!(e._dataIndex>7));a++)o.nickname,_=e["m_rank_"+e._dataIndex],r=o.avatarUrl,t=o.KVDataList[0].value,g=(null!=(l=o.KVDataList[1])?l.value:void 0)||999,u=(null!=(m=o.KVDataList[2])?m.value:void 0)||0,e._updateInfo(_,r,t,g,u),e._dataIndex++;for(i=c=f=e._dataIndex;f<=7?c<=7:c>=7;i=f<=7?++c:--c)e["m_rank_"+i].active=!1}}(this)})}})}.call(this),cc._RF.pop()},{}]},{},["rank"]);