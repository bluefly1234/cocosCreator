window.__require=function e(t,n,a){function r(o,c){if(!n[o]){if(!t[o]){var s=o.split("/");if(s=s[s.length-1],!t[s]){var u="function"==typeof __require&&__require;if(!c&&u)return u(s,!0);if(i)return i(s,!0);throw new Error("Cannot find module '"+o+"'")}}var d=n[o]={exports:{}};t[o][0].call(d.exports,function(e){return r(t[o][1][e]||e)},d,d.exports,e,t,n,a)}return n[o].exports}for(var i="function"==typeof __require&&__require,o=0;o<a.length;o++)r(a[o]);return r}({rank:[function(e,t,n){"use strict";cc._RF.push(t,"79268ycB6xOCIQg8Zn8m+gy","rank"),function(){cc.Class({extends:cc.Component,properties:{display:cc.Node,m_rank_1:cc.Node,m_rank_2:cc.Node,m_rank_3:cc.Node,m_rank_4:cc.Node,m_rank_5:cc.Node,m_rank_6:cc.Node,m_rank_7:cc.Node},start:function(){var e,t,n;for(wx.onMessage(function(e){return function(t){switch(t.message){case"Show":return e._show();case"Hide":return e._hide();case"Refresh":return e._initFriendsInfo();case"gameType":return e._gameType=t.gameType,e._initFriendsInfo()}}}(this)),n=[],t=e=1;e<=7;t=++e)n.push(this._updateInfo(this["m_rank_"+t],null,"--","--","--"));return n},_createImage:function(e,t){var n;return(n=wx.createImage()).onload=function(){var t;return(t=new cc.Texture2D).initWithElement(n),t.handleLoadedTexture(),e.spriteFrame=new cc.SpriteFrame(t),e.node.width=50,e.node.height=50},n.src=t},_updateInfo:function(e,t,n,a,r){var i,o;return o=(i=e.getChildByName("icon")).getChildByName("icon").getComponent(cc.Sprite),this._createImage(o,t),i.getChildByName("rank_1").getComponent(cc.Label).string=n,i.getChildByName("rank_2").getComponent(cc.Label).string=a,i.getChildByName("rank_3").getComponent(cc.Label).string=r},_initFriendsInfo:function(){var e;return this._dataIndex=1,"numberMaze"===this._gameType?e=["fastTime","useStep","passCount"]:"memory"===this._gameType?e=["score"]:"physicsBall"===this._gameType&&(e=["physicsBallScore"]),wx.getFriendCloudStorage({keyList:e,success:function(e){return function(t){var n,a,r,i,o,c,s,u,d,_,l,m,f,g;for(console.log("friends data :"+JSON.stringify(t.data)),t.data=t.data.filter(function(e){return console.log(e.nickname,e.KVDataList.length),e.KVDataList.length>0}),t.data.sort(function(e,t){return t.KVDataList[0].value-e.KVDataList[0].value}),"numberMaze"===e._gameType&&t.data.sort(function(e,t){return e.KVDataList[0].value-t.KVDataList[0].value}),a=0,s=(_=t.data).length;a<s&&(o=_[a],!(e._dataIndex>7));a++)o.nickname,d=e["m_rank_"+e._dataIndex],r=o.avatarUrl,n=o.KVDataList[0].value,g=(null!=(l=o.KVDataList[1])?l.value:void 0)||"--",u=(null!=(m=o.KVDataList[2])?m.value:void 0)||"--",e._updateInfo(d,r,n,g,u),e._dataIndex++;for(i=c=f=e._dataIndex;f<=7?c<=7:c>=7;i=f<=7?++c:--c)e["m_rank_"+i].active=!1}}(this)})}})}.call(this),cc._RF.pop()},{}]},{},["rank"]);